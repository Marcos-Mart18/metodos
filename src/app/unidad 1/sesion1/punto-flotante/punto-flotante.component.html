<div>
  <a
    routerLink="/sesion1"
    class="inline-flex items-center gap-2 bg-gradient-to-b from-[#001C48] to-[#003366] text-white font-bold text-sm px-4 py-2 rounded-lg shadow-md hover:shadow-lg hover:from-[#003366] hover:to-[#004080] hover:-translate-y-0.5 transition"
  >
    <!-- SVG flecha -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-5 h-5"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <g data-name="Layer 2">
        <g data-name="arrow-back">
          <rect
            width="24"
            height="24"
            transform="rotate(90 12 12)"
            opacity="0"
          ></rect>
          <path
            d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"
          ></path>
        </g>
      </g>
    </svg>
    <span>Volver</span>
  </a>
</div>

<!-- Contenedor principal en dos columnas -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-6xl mx-auto mt-6 px-4">
  <!-- Bloque izquierdo: Calcular sistema -->
  <div class="p-6 bg-white rounded-2xl shadow-lg border border-gray-200">
    <h2 class="text-xl font-bold mb-4 text-[#001C48]">
      Sistema de Punto Flotante
    </h2>

    <form (ngSubmit)="calcularSistema()" #pfForm="ngForm" class="grid gap-3">
      <div>
        <label class="block text-sm font-medium text-[#001C48]">Base (B)</label>
        <input
          type="number"
          [(ngModel)]="base"
          name="base"
          required
          class="w-full p-2 rounded bg-gray-100 text-[#001C48] border border-gray-300 focus:ring-2 focus:ring-[#3BAFDA] focus:outline-none"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-[#001C48]"
          >Número de cifras en la mantisa (t)</label
        >
        <input
          type="number"
          [(ngModel)]="mantisa"
          name="mantisa"
          required
          class="w-full p-2 rounded bg-gray-100 text-[#001C48] border border-gray-300 focus:ring-2 focus:ring-[#3BAFDA] focus:outline-none"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-[#001C48]"
          >Menor potencia (m)</label
        >
        <input
          type="number"
          [(ngModel)]="menorPot"
          name="menorPot"
          required
          class="w-full p-2 rounded bg-gray-100 text-[#001C48] border border-gray-300 focus:ring-2 focus:ring-[#3BAFDA] focus:outline-none"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-[#001C48]"
          >Mayor potencia (M)</label
        >
        <input
          type="number"
          [(ngModel)]="mayorPot"
          name="mayorPot"
          required
          class="w-full p-2 rounded bg-gray-100 text-[#001C48] border border-gray-300 focus:ring-2 focus:ring-[#3BAFDA] focus:outline-none"
        />
      </div>

      <button
        type="submit"
        class="items-center gap-2 bg-gradient-to-b from-[#001C48] to-[#003366] text-white font-bold text-sm px-4 py-2 rounded-lg shadow-md hover:shadow-lg hover:from-[#003366] hover:to-[#004080] hover:-translate-y-0.5 transition"
      >
        Calcular sistema
      </button>
    </form>
    <!-- Mensajes -->
    <div
      *ngIf="mensajeError"
      class="mt-3 p-3 rounded-lg bg-red-100 text-red-800 border border-red-300"
    >
      {{ mensajeError }}
    </div>

    <div
      *ngIf="mensajeInfo"
      class="mt-3 p-3 rounded-lg bg-green-100 text-green-800 border border-green-300"
    >
      {{ mensajeInfo }}
    </div>

    <!-- Resultados -->
    <div
      *ngIf="formalizacion"
      class="mt-4 p-3 bg-white rounded-lg text-sm text-[#001C48] shadow-md"
    >
      <p><b>Formalización:</b> {{ formalizacion }}</p>
      <p><b>Elementos:</b> {{ elementos }}</p>
      <p><b>Número más grande:</b> {{ maxNum }}</p>
      <p><b>Número más pequeño:</b> {{ minNum }}</p>
      <p><b>Rango:</b> {{ rango }}</p>
    </div>
  </div>

  <!-- Bloque derecho: Probar número -->
  <div class="p-6 bg-white rounded-2xl shadow-lg border border-gray-200">
    <h3 class="text-xl font-bold mb-4 text-[#001C48]">
      Probar número en el sistema
    </h3>

    <input
      type="number"
      [(ngModel)]="numeroPrueba"
      name="numeroPrueba"
      class="w-full p-2 rounded bg-gray-100 text-[#001C48] border border-gray-300 focus:ring-2 focus:ring-[#3BAFDA] focus:outline-none"
      placeholder="Número a probar"
    />

    <div class="mt-3 flex gap-4 text-[#001C48]">
      <label
        ><input
          type="radio"
          [(ngModel)]="metodo"
          value="truncamiento"
          name="metodo"
          checked
        />
        Truncamiento</label
      >
      <label
        ><input
          type="radio"
          [(ngModel)]="metodo"
          value="redondeo"
          name="metodo"
        />
        Redondeo</label
      >
    </div>

    <button
      (click)="probarNumero()"
      class="mt-4 inline-flex items-center gap-2 bg-gradient-to-b from-[#001C48] to-[#003366] text-white font-bold text-sm px-4 py-2 rounded-lg shadow-md hover:shadow-lg hover:from-[#003366] hover:to-[#004080] hover:-translate-y-0.5 transition"
    >
      Probar
    </button>

    <div
      *ngIf="resultadoPrueba"
      class="mt-4 p-3 bg-white rounded-lg text-sm text-[#001C48] shadow-md"
    >
      {{ resultadoPrueba }}
    </div>

    <!-- Mensaje -->
    <div
      *ngIf="mensajeError2"
      class="mt-3 p-3 rounded-lg bg-red-100 text-red-800 border border-red-300"
    >
      {{ mensajeError2 }}
    </div>
  </div>
</div>
